function _classCallCheck(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,t){for(var e=0;e<t.length;e++){var s=t[e];s.enumerable=s.enumerable||0,s.configurable=1,"value"in s&&(s.writable=1),Object.defineProperty(i,s.key,s)}}function _createClass(i,t,e){return t&&_defineProperties(i.prototype,t),e&&_defineProperties(i,e),i}function _getPrototypeOf(i){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(i){return i.__proto__||Object.getPrototypeOf(i)})(i)}function _setPrototypeOf(i,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(i,t){return i.__proto__=t,i})(i,t)}function _assertThisInitialized(i){if(void 0===i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _possibleConstructorReturn(i,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(i):t}function _createSuper(i){var t=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return 0;if(Reflect.construct.sham)return 0;if("function"==typeof Proxy)return 1;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),1}catch(i){return 0}}();return function _createSuperInternal(){var e,s=_getPrototypeOf(i);if(t){var r=_getPrototypeOf(this).constructor;e=Reflect.construct(s,arguments,r)}else e=s.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _get(i,t,e){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(i,t,e){var s=function _superPropBase(i,t){for(;!Object.prototype.hasOwnProperty.call(i,t)&&null!==(i=_getPrototypeOf(i)););return i}(i,t);if(s){var r=Object.getOwnPropertyDescriptor(s,t);return r.get?r.get.call(e):r.value}})(i,t,e||i)}var Navigation=function(){function Navigation(i,t){_classCallCheck(this,Navigation),this.slider=i,this.sliderTrack=this.slider.querySelector(".slider-track"),this.speed=t,this.slides=this.slider.querySelectorAll(".slide"),this.maximumSwipingAtSlider=0,this.measuresMaximumSwipeOfSlider()}return _createClass(Navigation,[{key:"measuresMaximumSwipeOfSlider",value:function measuresMaximumSwipeOfSlider(){var i=this;this.sliderTrack.querySelectorAll(".slide").forEach((function(t){i.maximumSwipingAtSlider+=t.offsetWidth})),this.maximumSwipingAtSlider-=this.slider.clientWidth}},{key:"getNewPositionSliderTrack",value:function getNewPositionSliderTrack(i){for(var t=0,e=0;e<i;e++)t+=Math.round(this.slides[e].getBoundingClientRect().width);return t=this.checkNewPosition(t)}},{key:"addTransitionSliderTrack",value:function addTransitionSliderTrack(i){var t=this;this.sliderTrack.style.transition="transform 0.".concat(this.speed,"s ease"),setTimeout((function(){t.sliderTrack.style.transform="translate3d(".concat(-i,"px, 0px, 0px)")}),0),setTimeout((function(){t.sliderTrack.style.transition="transform 0s ease"}),this.speed)}},{key:"checkNewPosition",value:function checkNewPosition(i){return i>this.maximumSwipingAtSlider?i=this.maximumSwipingAtSlider:i<0&&(i=0),i}},{key:"pushingSliderTrack",value:function pushingSliderTrack(i,t){if(!(t===this.slides.length-1&&"last"!==i||0===t&&"next"!==i)){var e="next"===i?t+1:t-1,s=this.getNewPositionSliderTrack(e);return this.addTransitionSliderTrack(s),{position:s,current_slide:e}}}}]),Navigation}(),Pagination=function(){function Pagination(i){_classCallCheck(this,Pagination),this.slider=i,this.btnsPagination=this.slider.querySelectorAll(".pagination-btn")}return _createClass(Pagination,[{key:"changeBtnPagination",value:function changeBtnPagination(i){this.btnsPagination.forEach((function(i){return i.classList.remove("pagination-btn-active")})),this.btnsPagination[i].classList.add("pagination-btn-active")}}]),Pagination}(),Slider=function(){function Slider(){_classCallCheck(this,Slider)}return _createClass(Slider,[{key:"getEvent",value:function getEvent(){return-1!=event.type.search("touch")?event.touches[0]:event}},{key:"measuresMaximumSwipeOfSlider",value:function measuresMaximumSwipeOfSlider(){var i=this;this.sliderTrack.querySelectorAll(".slide").forEach((function(t){i.maximumSwipingAtSlider+=t.offsetWidth})),this.maximumSwipingAtSlider-=this.sliderWidth}},{key:"removeEventsSliderTrack",value:function removeEventsSliderTrack(){this.sliderTrack.removeEventListener("touchmove",this._swipeAction),this.sliderTrack.removeEventListener("touchend",this._swipeEnd),this.sliderTrack.removeEventListener("mousemove",this._swipeAction),this.sliderTrack.removeEventListener("mouseout",this.goingOutBoundsSlider),this.sliderTrack.removeEventListener("mouseup",this._swipeEnd),this.slider.classList.remove("slider-active")}},{key:"addEventsSliderTrack",value:function addEventsSliderTrack(){this.sliderTrack.addEventListener("mouseup",this._swipeEnd),this.sliderTrack.addEventListener("touchend",this._swipeEnd,{passive:1}),this.sliderTrack.addEventListener("mousemove",this._swipeAction),this.sliderTrack.addEventListener("touchmove",this._swipeAction,{passive:1}),this.sliderTrack.addEventListener("mouseout",this.goingOutBoundsSlider),this.slider.classList.add("slider-active")}},{key:"getPaginationSlider",value:function getPaginationSlider(){return this.slider.querySelector(".slider-pagination")}},{key:"checkIsPaginationSlider",value:function checkIsPaginationSlider(){this.getPaginationSlider()&&this.addPagination()}},{key:"watchSwipeSliderTrack_Pagination",value:function watchSwipeSliderTrack_Pagination(){this.newPagination.changeBtnPagination(this.currentSlide)}},{key:"addPagination",value:function addPagination(){this.isPagination=1,this.newPagination=new Pagination(this.slider)}},{key:"addNavigation",value:function addNavigation(){var i=this;this.isNavigation=1,this.newNavigation=new Navigation(this.slider,this.speed);var t=this.slider.querySelector(".btn-slider-push-last"),e=this.slider.querySelector(".btn-slider-push-next");t.addEventListener("click",(function(){i.pressedBtnPushSlider()})),e.addEventListener("click",(function(){i.pressedBtnPushSlider()}))}},{key:"pressedBtnPushSlider",value:function pressedBtnPushSlider(){var i=this;if(this.allowSwipe){var t=event.currentTarget.dataset.direction,e=this.newNavigation.pushingSliderTrack(t,this.currentSlide);e&&(this.currentSlide=e.current_slide,this.positionFinal=e.position,this.positionSliderTrack=e.position,"SliderWithPreviews"==this.className&&(this.changeDataForSLiderPreviews(),this.pushingSliderPreviews()),this.isPagination&&this.watchSwipeSliderTrack_Pagination()),this.allowSwipe=0,setTimeout((function(){i.allowSwipe=1}),500)}}},{key:"checkSliderCanBeMoved",value:function checkSliderCanBeMoved(i){Math.abs(i.clientY-this.positionPressedY)>=5&&"touchmove"===event.type&&(this.isScrollingSlider?this.isScrollingSlider&&(this.allowSwipe=1):(this.allowSwipe=0,this.removeEventsSliderTrack()))}},{key:"checksOutOfBounds",value:function checksOutOfBounds(){(this.positionX_FingetCurrentMoment_OnSlider>=this.positionFingerPressSliderX&&this.positionSliderTrack-this.positionFinal>0||this.positionX_FingetCurrentMoment_OnSlider>=this.sliderWidth-this.positionFingerPressSliderX&&this.positionSliderTrack-this.positionFinal<0)&&this.swipeEnd()}},{key:"calculatesTouchCoordinates_SwipeStart",value:function calculatesTouchCoordinates_SwipeStart(i){this.positionPressedX=i.clientX,this.positionPressedY=i.clientY,this.positionFingerPressSliderX=this.positionPressedX-this.slider.getBoundingClientRect().x,this.positionFingerPressSliderY=this.positionPressedY-this.slider.getBoundingClientRect().y}},{key:"checkNavigation",value:function checkNavigation(){this.slider.querySelector(".slider-navigation")&&this.addNavigation()}}]),Slider}(),SliderWithAutomaticAdjustment=function(i){!function _inherits(i,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,writable:1,configurable:1}}),t&&_setPrototypeOf(i,t)}(SliderWithAutomaticAdjustment,Slider);var t=_createSuper(SliderWithAutomaticAdjustment);function SliderWithAutomaticAdjustment(i,e){var s,r,n,o;return _classCallCheck(this,SliderWithAutomaticAdjustment),(o=t.call(this)).slider=i,o.options=e,o.sliderTrack=o.slider.querySelector(".slider-track"),o.sliderWidth=Math.round(o.slider.getBoundingClientRect().width),o.currentSlide=0,o.slides=o.sliderTrack.querySelectorAll(".slide"),o.numberSlides=o.slides.length,o.directionSliderTrack,o.maximumSwipingAtSlider=0,o.positionSliderTrack=0,o.positionFinal=0,o.singleSwipe,o.positionPressedX,o.positionPressedY,o.positionFingerPressSliderX,o.positionFingerPressSliderY,o.positionX_FingetCurrentMoment_OnSlider,o.positionY_FingetCurrentMoment_OnSlider,o.allowSwipe=1,o.isScrollingSlider=0,o.isSliderWithFight,o.isSliderWithoutFight,o.isPushSliderWithFight,o.isReturnSlider,o._swipeStart=function(){o.swipeStart()},o._swipeAction=function(){o.swipeAction()},o._swipeEnd=function(){o.swipeEnd()},o.addOptions(),_get((s=_assertThisInitialized(o),_getPrototypeOf(SliderWithAutomaticAdjustment.prototype)),"checkNavigation",s).call(s),_get((r=_assertThisInitialized(o),_getPrototypeOf(SliderWithAutomaticAdjustment.prototype)),"checkIsPaginationSlider",r).call(r),_get((n=_assertThisInitialized(o),_getPrototypeOf(SliderWithAutomaticAdjustment.prototype)),"measuresMaximumSwipeOfSlider",n).call(n),o.goingOutBoundsSlider=function(){o.swipeEnd(),o.sliderTrack.removeEventListener("mouseout",o.goingOutBoundsSlider)},o}return _createClass(SliderWithAutomaticAdjustment,[{key:"addOptions",value:function addOptions(){this.speed=this.options.speed?this.options.speed:200}},{key:"checkIsNavigation_Pagination",value:function checkIsNavigation_Pagination(){this.isPagination&&_get(_getPrototypeOf(SliderWithAutomaticAdjustment.prototype),"watchSwipeSliderTrack_Pagination",this).call(this)}},{key:"setsTransition_For_PushingWithFight",value:function setsTransition_For_PushingWithFight(){var i=this;this.checks_In_WhichDirectionMoveSlider();var t=this.calculatesPositionSliderTrack();this.positionSliderTrack=t,this.allowSwipe=0,this.isPushSliderWithFight=0,this.sliderTrack.style.transition="transform 0.".concat(this.speed,"s ease"),setTimeout((function(){i.sliderTrack.style.transform="translate3d(".concat(-i.positionSliderTrack,"px, 0px, 0px)")}),0),setTimeout((function(){i.allowSwipe=1,i.sliderTrack.style.transition="none"}),this.speed)}},{key:"checks_In_WhichDirectionMoveSlider",value:function checks_In_WhichDirectionMoveSlider(){"right"===this.directionSliderTrack&&this.currentSlide!==this.numberSlides?this.currentSlide++:"left"===this.directionSliderTrack&&0!==this.currentSlide&&this.currentSlide--,this.checkIsNavigation_Pagination()}},{key:"returnsSliderBack",value:function returnsSliderBack(){var i=this;this.allowSwipe=0,this.positionSliderTrack=this.positionFinal=this.maximumSwipingAtSlider,this.sliderTrack.style.transition="transform 0.".concat(this.speed,"s ease"),setTimeout((function(){i.sliderTrack.style.transform="translate3d(".concat(-i.positionSliderTrack,"px, 0px, 0px)")}),0),setTimeout((function(){i.allowSwipe=1,i.sliderTrack.style.transition="none"}),this.speed)}},{key:"calculatesPositionSliderTrack",value:function calculatesPositionSliderTrack(){for(var i=0,t=0;this.currentSlide>t;t++){i+=Math.round(this.slides[t].getBoundingClientRect().width)}return i=i>this.maximumSwipingAtSlider?this.maximumSwipingAtSlider:i}},{key:"pushingSliderWithFight",value:function pushingSliderWithFight(){this.sliderTrack.style.transform="translate3d(".concat(-this.positionSliderTrack,"px, 0px, 0px)")}},{key:"pushingSliderWithoutFight",value:function pushingSliderWithoutFight(){this.sliderTrack.style.transform="translate3d(".concat(-this.positionSliderTrack,"px, 0px, 0px)");var i=this.slider.getBoundingClientRect().x-this.slides[this.currentSlide].getBoundingClientRect().x;if(i=Math.round(i),this.slides[this.currentSlide].offsetWidth-this.sliderWidth<=i||i<0){var t=this.calculatesPositionSliderTrack();t="right"===this.directionSliderTrack?t+(this.slides[this.currentSlide].offsetWidth-this.sliderWidth):t,this.sliderTrack.style.transform="translate3d(".concat(-t,"px, 0px, 0px)"),this.positionSliderTrack=t,this.swipeEnd(),this.isPushSliderWithFight=1}}},{key:"swipeStart",value:function swipeStart(){this.allowSwipe?(_get(_getPrototypeOf(SliderWithAutomaticAdjustment.prototype),"calculatesTouchCoordinates_SwipeStart",this).call(this,this.evt=_get(_getPrototypeOf(SliderWithAutomaticAdjustment.prototype),"getEvent",this).call(this)),this.currentSlide===this.numberSlides-1&&(this.isReturnSlider=1),this.isSliderWithFight=this.sliderWidth>=this.slides[this.currentSlide].offsetWidth?1:0,this.isSliderWithoutFight=this.sliderWidth<=this.slides[this.currentSlide].offsetWidth?1:0,this.sliderTrack.style.transform="translate3d(".concat(-this.positionFinal,"px, 0px, 0px)"),_get(_getPrototypeOf(SliderWithAutomaticAdjustment.prototype),"addEventsSliderTrack",this).call(this)):this.allowSwipe=1}},{key:"swipeAction",value:function swipeAction(){var i=_get(_getPrototypeOf(SliderWithAutomaticAdjustment.prototype),"getEvent",this).call(this);_get(_getPrototypeOf(SliderWithAutomaticAdjustment.prototype),"checkSliderCanBeMoved",this).call(this,this.evt=i),this.allowSwipe&&(this.positionSliderTrack=this.positionPressedX-i.clientX+this.positionFinal,this.singleSwipe=this.positionSliderTrack-this.positionFinal,this.directionSliderTrack=this.singleSwipe<0?"left":"right",this.isScrollingSlider=Math.abs(this.singleSwipe)>=5?1:0,this.isPushSliderWithFight&&(this.isPushSliderWithFight=0,(this.positionSliderTrack<=this.calculatesPositionSliderTrack()||this.positionSliderTrack>=this.calculatesPositionSliderTrack()+(this.slides[this.currentSlide].offsetWidth-this.sliderWidth))&&(this.isPushSliderWithFight=1)),this.isReturnSlider=this.singleSwipe<0&&this.isReturnSlider?0:this.isReturnSlider,this.isSliderWithFight||this.isPushSliderWithFight?this.pushingSliderWithFight():this.isSliderWithoutFight&&!this.isPushSliderWithFight&&this.pushingSliderWithoutFight(),"touchmove"===event.type&&(this.positionX_FingetCurrentMoment_OnSlider=Math.abs(this.positionPressedX-i.clientX),this.positionY_FingetCurrentMoment_OnSlider=Math.abs(this.positionPressedY-i.clientY),_get(_getPrototypeOf(SliderWithAutomaticAdjustment.prototype),"checksOutOfBounds",this).call(this)))}},{key:"swipeEnd",value:function swipeEnd(){_get(_getPrototypeOf(SliderWithAutomaticAdjustment.prototype),"removeEventsSliderTrack",this).call(this),this.isScrollingSlider=0,this.isReturnSlider?this.returnsSliderBack():((this.isSliderWithFight||this.isPushSliderWithFight)&&this.setsTransition_For_PushingWithFight(),this.positionFinal=this.positionSliderTrack)}},{key:"run",value:function run(){this.sliderTrack.addEventListener("mousedown",this._swipeStart),this.sliderTrack.addEventListener("touchstart",this._swipeStart,{passive:1}),this.sliderTrack.style.transform="translate3d(0px, 0px, 0px)"}}]),SliderWithAutomaticAdjustment}();