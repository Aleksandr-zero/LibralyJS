function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function _createClass(t,i,e){return i&&_defineProperties(t.prototype,i),e&&_defineProperties(t,e),t}function _inherits(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&_setPrototypeOf(t,i)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _setPrototypeOf(t,i){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,i){return t.__proto__=i,t})(t,i)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _possibleConstructorReturn(t,i){return!i||"object"!=typeof i&&"function"!=typeof i?_assertThisInitialized(t):i}function _createSuper(s){var r=_isNativeReflectConstruct();return function _createSuperInternal(){var t,i=_getPrototypeOf(s);if(r){var e=_getPrototypeOf(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return _possibleConstructorReturn(this,t)}}function _superPropBase(t,i){for(;!Object.prototype.hasOwnProperty.call(t,i)&&null!==(t=_getPrototypeOf(t)););return t}function _get(t,i,e){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(t,i,e){var s=_superPropBase(t,i);if(s){var r=Object.getOwnPropertyDescriptor(s,i);return r.get?r.get.call(e):r.value}})(t,i,e||t)}var Slider=function(){function Slider(){_classCallCheck(this,Slider)}return _createClass(Slider,[{key:"getEvent",value:function getEvent(){return-1!=event.type.search("touch")?event.touches[0]:event}},{key:"measuresMaximumSwipeOfSlider",value:function measuresMaximumSwipeOfSlider(){var i=this;this.sliderTrack.querySelectorAll(".slide").forEach(function(t){i.maximumSwipingAtSlider+=t.offsetWidth}),this.maximumSwipingAtSlider-=this.sliderWidth}},{key:"checkSliderCanBeMoved",value:function checkSliderCanBeMoved(t){5<=Math.abs(t.clientY-this.positionPressedY)&&"touchmove"===event.type&&(this.isScrollingSlider?this.isScrollingSlider&&(this.allowSwipe=!0):(this.allowSwipe=!1,this.removeEventsSliderTrack()))}},{key:"checksOutOfBounds",value:function checksOutOfBounds(){(this.positionX_FingetCurrentMoment_OnSlider>=this.positionFingerPressSliderX&&0<this.positionSliderTrack-this.positionFinal||this.positionX_FingetCurrentMoment_OnSlider>=this.sliderWidth-this.positionFingerPressSliderX&&this.positionSliderTrack-this.positionFinal<0)&&this.swipeEnd()}},{key:"calculatesTouchCoordinates_SwipeStart",value:function calculatesTouchCoordinates_SwipeStart(t){this.positionPressedX=t.clientX,this.positionPressedY=t.clientY,this.positionFingerPressSliderX=this.positionPressedX-this.slider.getBoundingClientRect().x,this.positionFingerPressSliderY=this.positionPressedY-this.slider.getBoundingClientRect().y}}]),Slider}(),SliderWithAutomaticAdjustment=function(t){_inherits(SliderWithAutomaticAdjustment,Slider);var s=_createSuper(SliderWithAutomaticAdjustment);function SliderWithAutomaticAdjustment(t,i){var e;return _classCallCheck(this,SliderWithAutomaticAdjustment),(e=s.call(this)).slider=t,e.options=i,e.sliderTrack=e.slider.querySelector(".slider-track"),e.sliderWidth=Math.round(e.slider.getBoundingClientRect().width),e.currentSlide=0,e.slides=e.sliderTrack.querySelectorAll(".slide"),e.numberSlides=e.slides.length,e.directionSliderTrack,e.maximumSwipingAtSlider=0,e.positionSliderTrack=0,e.positionFinal=0,e.singleSwipe,e.positionPressedX,e.positionPressedY,e.positionFingerPressSliderX,e.positionFingerPressSliderY,e.positionX_FingetCurrentMoment_OnSlider,e.positionY_FingetCurrentMoment_OnSlider,e.allowSwipe=!0,e.isScrollingSlider=!1,e.isSliderWithFight,e.isSliderWithoutFight,e.isPushSliderWithFight,e.isReturnSlider,e._swipeStart=function(){e.swipeStart()},e._swipeAction=function(){e.swipeAction()},e._swipeEnd=function(){e.swipeEnd()},e.addOptions(),e.measuresMaximumSwipeOfSlider(),e.goingOutBoundsSlider=function(){e.swipeEnd(),e.sliderTrack.removeEventListener("mouseout",e.goingOutBoundsSlider)},e}return _createClass(SliderWithAutomaticAdjustment,[{key:"addOptions",value:function addOptions(){this.speed=this.options.speed?this.options.speed:200}},{key:"removeEventsSliderTrack",value:function removeEventsSliderTrack(){this.sliderTrack.removeEventListener("mousemove",this._swipeAction),this.sliderTrack.removeEventListener("touchmove",this._swipeAction),this.sliderTrack.removeEventListener("mouseup",this._swipeEnd),this.sliderTrack.removeEventListener("touchend",this._swipeEnd),this.sliderTrack.removeEventListener("mouseout",this.goingOutBoundsSlider),this.sliderTrack.classList.remove("slider-active")}},{key:"addEventsSliderTrack",value:function addEventsSliderTrack(){this.sliderTrack.addEventListener("mousemove",this._swipeAction),this.sliderTrack.addEventListener("touchmove",this._swipeAction,{passive:!0}),this.sliderTrack.addEventListener("mouseup",this._swipeEnd),this.sliderTrack.addEventListener("touchend",this._swipeEnd,{passive:!0}),this.sliderTrack.addEventListener("mouseout",this.goingOutBoundsSlider),this.sliderTrack.classList.add("slider-active")}},{key:"setsTransition_For_PushingWithFight",value:function setsTransition_For_PushingWithFight(){var t=this;this.checks_In_WhichDirectionMoveSlider();var i=this.calculatesPositionSliderTrack();this.positionSliderTrack=i,this.allowSwipe=!1,this.isPushSliderWithFight=!1,this.sliderTrack.style.transition="transform 0.".concat(this.speed,"s ease"),setTimeout(function(){t.sliderTrack.style.transform="translate3d(".concat(-t.positionSliderTrack,"px, 0px, 0px)")},0),setTimeout(function(){t.allowSwipe=!0,t.sliderTrack.style.transition="none"},this.speed)}},{key:"checks_In_WhichDirectionMoveSlider",value:function checks_In_WhichDirectionMoveSlider(){"right"===this.directionSliderTrack&&this.currentSlide!==this.numberSlides?this.currentSlide++:"left"===this.directionSliderTrack&&0!==this.currentSlide&&this.currentSlide--}},{key:"returnsSliderBack",value:function returnsSliderBack(){var t=this;this.allowSwipe=!1,this.positionSliderTrack=this.positionFinal=this.maximumSwipingAtSlider,this.sliderTrack.style.transition="transform 0.".concat(this.speed,"s ease"),setTimeout(function(){t.sliderTrack.style.transform="translate3d(".concat(-t.positionSliderTrack,"px, 0px, 0px)")},0),setTimeout(function(){t.allowSwipe=!0,t.sliderTrack.style.transition="none"},this.speed)}},{key:"calculatesPositionSliderTrack",value:function calculatesPositionSliderTrack(){for(var t=0,i=0;this.currentSlide>i;i++){t+=Math.round(this.slides[i].getBoundingClientRect().width)}return t=t>this.maximumSwipingAtSlider?this.maximumSwipingAtSlider:t}},{key:"pushingSliderWithFight",value:function pushingSliderWithFight(){this.sliderTrack.style.transform="translate3d(".concat(-this.positionSliderTrack,"px, 0px, 0px)")}},{key:"pushingSliderWithoutFight",value:function pushingSliderWithoutFight(){this.sliderTrack.style.transform="translate3d(".concat(-this.positionSliderTrack,"px, 0px, 0px)");var t=this.slider.getBoundingClientRect().x-this.slides[this.currentSlide].getBoundingClientRect().x;t=Math.round(t),(this.slides[this.currentSlide].offsetWidth-this.sliderWidth<=t||t<0)&&(this.swipeEnd(),this.isPushSliderWithFight=!0)}},{key:"swipeStart",value:function swipeStart(){if(this.allowSwipe){var t=_get(_getPrototypeOf(SliderWithAutomaticAdjustment.prototype),"getEvent",this).call(this);_get(_getPrototypeOf(SliderWithAutomaticAdjustment.prototype),"calculatesTouchCoordinates_SwipeStart",this).call(this,this.evt=t),this.currentSlide===this.numberSlides-1&&(this.isReturnSlider=!0),this.sliderWidth>=this.slides[this.currentSlide].offsetWidth?(this.isSliderWithFight=!0,this.isSliderWithoutFight=!1):this.sliderWidth<=this.slides[this.currentSlide].offsetWidth&&(this.isSliderWithoutFight=!0,this.isSliderWithFight=!1),this.sliderTrack.style.transform="translate3d(".concat(-this.positionFinal,"px, 0px, 0px)"),this.addEventsSliderTrack()}}},{key:"swipeAction",value:function swipeAction(){var t=_get(_getPrototypeOf(SliderWithAutomaticAdjustment.prototype),"getEvent",this).call(this);_get(_getPrototypeOf(SliderWithAutomaticAdjustment.prototype),"checkSliderCanBeMoved",this).call(this,this.evt=t),this.allowSwipe&&(this.positionSliderTrack=this.positionPressedX-t.clientX+this.positionFinal,this.singleSwipe=this.positionSliderTrack-this.positionFinal,this.directionSliderTrack=this.singleSwipe<0?"left":"right",5<=Math.abs(this.singleSwipe)&&(this.isScrollingSlider=!0),this.singleSwipe<0&&this.isReturnSlider&&(this.isReturnSlider=!1),this.isSliderWithFight||this.isPushSliderWithFight?this.pushingSliderWithFight():this.isSliderWithoutFight&&!this.isPushSliderWithFight&&this.pushingSliderWithoutFight(),"touchmove"===event.type&&(this.positionX_FingetCurrentMoment_OnSlider=Math.abs(this.positionPressedX-t.clientX),this.positionY_FingetCurrentMoment_OnSlider=Math.abs(this.positionPressedY-t.clientY),_get(_getPrototypeOf(SliderWithAutomaticAdjustment.prototype),"checksOutOfBounds",this).call(this)))}},{key:"swipeEnd",value:function swipeEnd(){this.removeEventsSliderTrack(),this.isScrollingSlider=!1,this.isReturnSlider?this.returnsSliderBack():((this.isSliderWithFight||this.isPushSliderWithFight)&&this.setsTransition_For_PushingWithFight(),this.positionFinal=this.positionSliderTrack)}},{key:"run",value:function run(){this.sliderTrack.addEventListener("mousedown",this._swipeStart),this.sliderTrack.addEventListener("touchstart",this._swipeStart,{passive:!0})}}]),SliderWithAutomaticAdjustment}();