function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,i){for(var t=0;t<i.length;t++){var s=i[t];s.enumerable=s.enumerable||0,s.configurable=1,"value"in s&&(s.writable=1),Object.defineProperty(e,s.key,s)}}function _createClass(e,i,t){return i&&_defineProperties(e.prototype,i),t&&_defineProperties(e,t),e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,i){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,i){return e.__proto__=i,e})(e,i)}function _possibleConstructorReturn(e,i){return!i||"object"!=typeof i&&"function"!=typeof i?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):i}function _createSuper(e){var i=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return 0;if(Reflect.construct.sham)return 0;if("function"==typeof Proxy)return 1;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),1}catch(e){return 0}}();return function _createSuperInternal(){var t,s=_getPrototypeOf(e);if(i){var r=_getPrototypeOf(this).constructor;t=Reflect.construct(s,arguments,r)}else t=s.apply(this,arguments);return _possibleConstructorReturn(this,t)}}function _get(e,i,t){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,i,t){var s=function _superPropBase(e,i){for(;!Object.prototype.hasOwnProperty.call(e,i)&&null!==(e=_getPrototypeOf(e)););return e}(e,i);if(s){var r=Object.getOwnPropertyDescriptor(s,i);return r.get?r.get.call(t):r.value}})(e,i,t||e)}var Navigation=function(){function Navigation(e,i){_classCallCheck(this,Navigation),this.slider=e,this.sliderTrack=this.slider.querySelector(".slider-track"),this.speed=i,this.slides=this.slider.querySelectorAll(".slide"),this.maximumSwipingAtSlider=0,this.measuresMaximumSwipeOfSlider()}return _createClass(Navigation,[{key:"measuresMaximumSwipeOfSlider",value:function measuresMaximumSwipeOfSlider(){var e=this;this.sliderTrack.querySelectorAll(".slide").forEach((function(i){e.maximumSwipingAtSlider+=i.offsetWidth})),this.maximumSwipingAtSlider-=this.slider.clientWidth}},{key:"getNewPositionSliderTrack",value:function getNewPositionSliderTrack(e){for(var i=0,t=0;t<e;t++)i+=Math.round(this.slides[t].getBoundingClientRect().width);return i=this.checkNewPosition(i)}},{key:"addTransitionSliderTrack",value:function addTransitionSliderTrack(e){var i=this;this.sliderTrack.style.transition="transform 0.".concat(this.speed,"s ease"),setTimeout((function(){i.sliderTrack.style.transform="translate3d(".concat(-e,"px, 0px, 0px)")}),0),setTimeout((function(){i.sliderTrack.style.transition="transform 0s ease"}),this.speed)}},{key:"checkNewPosition",value:function checkNewPosition(e){return e>this.maximumSwipingAtSlider?e=this.maximumSwipingAtSlider:e<0&&(e=0),e}},{key:"pushingSliderTrack",value:function pushingSliderTrack(e,i){if(!(i===this.slides.length-1&&"last"!==e||0===i&&"next"!==e)){var t="next"===e?i+1:i-1,s=this.getNewPositionSliderTrack(t);return Math.round(this.slides[i].getBoundingClientRect().width),Math.abs(getComputedStyle(this.sliderTrack).transform.split(",")[4]),this.addTransitionSliderTrack(s),{position:s,current_slide:t}}}}]),Navigation}(),Pagination=function(){function Pagination(e){_classCallCheck(this,Pagination),this.slider=e,this.btnsPagination=this.slider.querySelectorAll(".pagination-btn")}return _createClass(Pagination,[{key:"changeBtnPagination",value:function changeBtnPagination(e){this.btnsPagination.forEach((function(e){e.classList.remove("pagination-btn-active")})),this.btnsPagination[e].classList.add("pagination-btn-active")}}]),Pagination}(),Slider=function(){function Slider(){_classCallCheck(this,Slider)}return _createClass(Slider,[{key:"getEvent",value:function getEvent(){return-1!=event.type.search("touch")?event.touches[0]:event}},{key:"measuresMaximumSwipeOfSlider",value:function measuresMaximumSwipeOfSlider(){var e=this;this.sliderTrack.querySelectorAll(".slide").forEach((function(i){e.maximumSwipingAtSlider+=i.offsetWidth})),this.maximumSwipingAtSlider-=this.sliderWidth}},{key:"removeEventsSliderTrack",value:function removeEventsSliderTrack(){this.sliderTrack.removeEventListener("touchmove",this._swipeAction),this.sliderTrack.removeEventListener("touchend",this._swipeEnd),this.sliderTrack.removeEventListener("mousemove",this._swipeAction),this.sliderTrack.removeEventListener("mouseout",this.goingOutBoundsSlider),this.sliderTrack.removeEventListener("mouseup",this._swipeEnd),this.slider.classList.remove("slider-active")}},{key:"addEventsSliderTrack",value:function addEventsSliderTrack(){this.sliderTrack.addEventListener("mouseup",this._swipeEnd),this.sliderTrack.addEventListener("touchend",this._swipeEnd,{passive:1}),this.sliderTrack.addEventListener("mousemove",this._swipeAction),this.sliderTrack.addEventListener("touchmove",this._swipeAction,{passive:1}),this.sliderTrack.addEventListener("mouseout",this.goingOutBoundsSlider),this.slider.classList.add("slider-active")}},{key:"getPaginationSlider",value:function getPaginationSlider(){return this.slider.querySelector(".slider-pagination")}},{key:"checkIsPaginationSlider",value:function checkIsPaginationSlider(){this.getPaginationSlider()&&this.addPagination()}},{key:"watchSwipeSliderTrack_Pagination",value:function watchSwipeSliderTrack_Pagination(){this.newPagination.changeBtnPagination(this.currentSlide)}},{key:"addPagination",value:function addPagination(){this.isPagination=1,this.newPagination=new Pagination(this.slider)}},{key:"addNavigation",value:function addNavigation(){var e=this;this.isNavigation=1,this.newNavigation=new Navigation(this.slider,this.speed);var i=this.slider.querySelector(".btn-slider-push-last"),t=this.slider.querySelector(".btn-slider-push-next");i.addEventListener("click",(function(){e.pressedBtnPushSlider()})),t.addEventListener("click",(function(){e.pressedBtnPushSlider()}))}},{key:"pressedBtnPushSlider",value:function pressedBtnPushSlider(){var e=this;if(this.allowSwipe){var i=event.currentTarget.dataset.direction,t=this.newNavigation.pushingSliderTrack(i,this.currentSlide);t&&(this.currentSlide=t.current_slide,this.positionFinal=t.position,this.positionSliderTrack=t.position,"SliderWithPreviews"==this.className&&(this.changeDataForSLiderPreviews(),this.pushingSliderPreviews()),this.isPagination&&this.watchSwipeSliderTrack_Pagination()),this.allowSwipe=0,setTimeout((function(){e.allowSwipe=1}),500)}}},{key:"checkSliderCanBeMoved",value:function checkSliderCanBeMoved(e){Math.abs(e.clientY-this.positionPressedY)>=5&&"touchmove"===event.type&&(this.isScrollingSlider?this.isScrollingSlider&&(this.allowSwipe=1):(this.allowSwipe=0,this.removeEventsSliderTrack()))}},{key:"checksOutOfBounds",value:function checksOutOfBounds(){(this.positionX_FingetCurrentMoment_OnSlider>=this.positionFingerPressSliderX&&this.positionSliderTrack-this.positionFinal>0||this.positionX_FingetCurrentMoment_OnSlider>=this.sliderWidth-this.positionFingerPressSliderX&&this.positionSliderTrack-this.positionFinal<0)&&this.swipeEnd()}},{key:"calculatesTouchCoordinates_SwipeStart",value:function calculatesTouchCoordinates_SwipeStart(e){this.positionPressedX=e.clientX,this.positionPressedY=e.clientY,this.positionFingerPressSliderX=this.positionPressedX-this.slider.getBoundingClientRect().x,this.positionFingerPressSliderY=this.positionPressedY-this.slider.getBoundingClientRect().y}},{key:"checkNavigation",value:function checkNavigation(){this.slider.querySelector(".slider-navigation")&&this.addNavigation()}}]),Slider}(),SliderWithPreviews=function(e){!function _inherits(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,writable:1,configurable:1}}),i&&_setPrototypeOf(e,i)}(SliderWithPreviews,Slider);var i=_createSuper(SliderWithPreviews);function SliderWithPreviews(e,t){var s;return _classCallCheck(this,SliderWithPreviews),(s=i.call(this)).slider=e,s.options=t,s.className="SliderWithPreviews",s.currentSlide=0,s.currentSlidePreview=0,s.sliderWidth=Math.round(s.slider.getBoundingClientRect().width),s.sliderTrack=s.slider.querySelector(".slider-track"),s.slides=s.slider.querySelectorAll(".slide"),s.sliderTrackPreviews=s.slider.querySelector(".slider-track-previews"),s.slidesPreviews=s.slider.querySelectorAll(".slide-preview"),s.slidePreviewsMarRight=parseInt(getComputedStyle(s.slidesPreviews[s.currentSlidePreview]).marginRight),s.positionPressedX,s.positionPressedY,s.positionFingerPressSliderX,s.positionFingerPressSliderY,s.positionX_FingetCurrentMoment_OnSlider,s.positionY_FingetCurrentMoment_OnSlider,s.positionSliderTrack=0,s.positionFinal=0,s.positionSliderTrackPreview=0,s.allowSwipe=1,s.allowSwipe=1,s.isScrollingSlider=0,s._swipeStart=function(){s.swipeStart()},s._swipeAction=function(){s.swipeAction()},s._swipeEnd=function(){s.swipeEnd()},s.addOptions(),s.addNavigation(),s.lastVisibleSlidePreviews=s.slidesPreviewPerView,s.goingOutBoundsSlider=function(){s.swipeEnd(),s.sliderTrack.removeEventListener("mouseout",s.goingOutBoundsSlider)},s}return _createClass(SliderWithPreviews,[{key:"addOptions",value:function addOptions(){if(this.speed=this.options.speed?this.options.speed:200,this.movementClickingOnPreview=this.options.movementClickingOnPreview?this.options.movementClickingOnPreview:0,this.slidesPreviewPerView=this.options.slidesPreviewPerView,!this.slidesPreviewPerView)throw"You did not specify a parameter <slidesPreviewPerView>"}},{key:"checkDataForMovement",value:function checkDataForMovement(){this.currentSlide<0?this.currentSlide=0:this.currentSlide>this.slides.length-1&&(this.currentSlide=this.slides.length-1)}},{key:"addNavigation",value:function addNavigation(){this.slider.querySelector(".slider-navigation")&&_get(_getPrototypeOf(SliderWithPreviews.prototype),"addNavigation",this).call(this)}},{key:"setsPropertyAllowSwipe",value:function setsPropertyAllowSwipe(){var e=this;this.allowSwipe=0,setTimeout((function(){e.allowSwipe=1}),this.speed)}},{key:"addEvent_SliderPreviews",value:function addEvent_SliderPreviews(){var e=this;this.slidesPreviewsArr=Array.prototype.slice.call(this.slidesPreviews),this.sliderTrackPreviews.addEventListener("click",(function(){if(e.allowSwipe&&event.target.classList.contains("slide-preview")){var i=e.slidesPreviewsArr.indexOf(event.target)+1;e.lastVisibleSlidePreviews=i,e.currentSlidePreview=i-1,e.currentSlide=i,e.addTransitionSliderTrack()}}))}},{key:"pushingSliderPreviews",value:function pushingSliderPreviews(){var e=this;this.lastVisibleSlidePreviews>this.slidesPreviews.length&&(this.lastVisibleSlidePreviews=this.slidesPreviews.length,this.currentSlidePreview=this.slidesPreviews.length-this.slidesPreviewPerView),this.sliderTrackPreviews.style.transition="transform 0.".concat(this.speed,"s ease"),this.positionSliderTrackPreview=this.currentSlidePreview*this.slidesPreviews[0].offsetWidth,this.positionSliderTrackPreview+=1===this.currentSlidePreview?this.slidePreviewsMarRight:this.slidePreviewsMarRight*this.currentSlidePreview,setTimeout((function(){e.sliderTrackPreviews.style.transform="translate3d(".concat(-e.positionSliderTrackPreview,"px, 0px, 0px)")}),0)}},{key:"pushingSlider",value:function pushingSlider(){this.singleSwipe=this.positionSliderTrack-this.positionFinal,this.sliderTrack.style.transform="translate3d(".concat(-this.positionSliderTrack,"px, 0px, 0px)"),Math.abs(this.singleSwipe)>=5&&(this.isScrollingSlider=1)}},{key:"swipeStart",value:function swipeStart(){if(this.allowSwipe){_get(_getPrototypeOf(SliderWithPreviews.prototype),"addEventsSliderTrack",this).call(this);var e=_get(_getPrototypeOf(SliderWithPreviews.prototype),"getEvent",this).call(this);_get(_getPrototypeOf(SliderWithPreviews.prototype),"calculatesTouchCoordinates_SwipeStart",this).call(this,e),this.sliderTrack.style.transform="translate3d(".concat(-this.positionFinal,"px, 0px, 0px)")}else this.setsPropertyAllowSwipe()}},{key:"swipeAction",value:function swipeAction(){var e=_get(_getPrototypeOf(SliderWithPreviews.prototype),"getEvent",this).call(this);_get(_getPrototypeOf(SliderWithPreviews.prototype),"checkSliderCanBeMoved",this).call(this,e),this.allowSwipe&&(this.positionSliderTrack=this.positionPressedX-e.clientX+this.positionFinal,"touchmove"===event.type&&(this.positionX_FingetCurrentMoment_OnSlider=Math.abs(this.positionPressedX-e.clientX),this.positionY_FingetCurrentMoment_OnSlider=Math.abs(this.positionPressedY-e.clientY),_get(_getPrototypeOf(SliderWithPreviews.prototype),"checksOutOfBounds",this).call(this)),this.pushingSlider())}},{key:"changeDataForSLiderPreviews",value:function changeDataForSLiderPreviews(){this.currentSlidePreview=this.currentSlide,this.lastVisibleSlidePreviews=this.currentSlidePreview+this.slidesPreviewPerView,0!==this.currentSlidePreview&&(this.currentSlidePreview--,this.lastVisibleSlidePreviews--),this.pushingSliderPreviews()}},{key:"addTransitionSliderTrack",value:function addTransitionSliderTrack(){var e=this;this.currentSlide+=this.singleSwipe>0?1:-1,this.checkDataForMovement(),this.changeDataForSLiderPreviews(),this.sliderTrack.style.transition="transform 0.".concat(this.speed,"s ease"),this.positionSliderTrack=this.currentSlide*this.sliderWidth,this.positionFinal=this.positionSliderTrack,this.allowSwipe=0,setTimeout((function(){e.sliderTrack.style.transform="translate3d(".concat(-e.positionSliderTrack,"px, 0px, 0px)")}),0),setTimeout((function(){e.sliderTrack.style.transition="none",e.allowSwipe=1}),this.speed)}},{key:"swipeEnd",value:function swipeEnd(){_get(_getPrototypeOf(SliderWithPreviews.prototype),"removeEventsSliderTrack",this).call(this),this.addTransitionSliderTrack(),this.setsPropertyAllowSwipe(),this.isScrollingSlider=0,this.singleSwipe=0}},{key:"run",value:function run(){this.sliderTrack.addEventListener("touchstart",this._swipeStart,{passive:1}),this.sliderTrack.addEventListener("mousedown",this._swipeStart),this.movementClickingOnPreview&&this.addEvent_SliderPreviews()}}]),SliderWithPreviews}();