function _classCallCheck(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function _createClass(i,e,t){return e&&_defineProperties(i.prototype,e),t&&_defineProperties(i,t),i}function _inherits(i,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf(i,e)}function _getPrototypeOf(i){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(i){return i.__proto__||Object.getPrototypeOf(i)})(i)}function _setPrototypeOf(i,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(i,e){return i.__proto__=e,i})(i,e)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(i){return!1}}function _assertThisInitialized(i){if(void 0===i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _possibleConstructorReturn(i,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(i):e}function _createSuper(n){var s=_isNativeReflectConstruct();return function _createSuperInternal(){var i,e=_getPrototypeOf(n);if(s){var t=_getPrototypeOf(this).constructor;i=Reflect.construct(e,arguments,t)}else i=e.apply(this,arguments);return _possibleConstructorReturn(this,i)}}var Navigation=function(){function Navigation(i){_classCallCheck(this,Navigation),this.slider=i,this.sliderTrack=this.slider.querySelector(".slider-track"),this.slides=this.slider.querySelectorAll(".slide"),this.maximumSwipingAtSlider=0,this.measuresMaximumSwipeOfSlider()}return _createClass(Navigation,[{key:"measuresMaximumSwipeOfSlider",value:function measuresMaximumSwipeOfSlider(){var e=this;this.sliderTrack.querySelectorAll(".slide").forEach(function(i){e.maximumSwipingAtSlider+=i.offsetWidth}),this.maximumSwipingAtSlider-=this.slider.clientWidth}},{key:"getNewPositionSliderTrack",value:function getNewPositionSliderTrack(i){for(var e=0,t=0;t<i;t++)e+=Math.round(this.slides[t].getBoundingClientRect().width);return e=this.checkNewPosition(e)}},{key:"addTransitionSliderTrack",value:function addTransitionSliderTrack(i,e){var t=this;this.sliderTrack.style.transition="transform 0.".concat(i,"s ease"),setTimeout(function(){t.sliderTrack.style.transform="translate3d(".concat(-e,"px, 0px, 0px)")},0),setTimeout(function(){t.sliderTrack.style.transition="transform 0s ease"},i)}},{key:"checkNewPosition",value:function checkNewPosition(i){return i>this.maximumSwipingAtSlider?i=this.maximumSwipingAtSlider:i<0&&(i=0),i}},{key:"pushingSliderTrack",value:function pushingSliderTrack(i,e){if(!(e===this.slides.length-1&&"last"!==i||0===e&&"next"!==i)){var t="next"===i?e+1:e-1,n=this.getNewPositionSliderTrack(t);return Math.round(this.slides[e].getBoundingClientRect().width),Math.abs(getComputedStyle(this.sliderTrack).transform.split(",")[4]),this.addTransitionSliderTrack(500,n),{position:n,current_slide:t}}}}]),Navigation}(),Pagination=function(){function Pagination(i){_classCallCheck(this,Pagination),this.slider=i,this.btnsPagination=this.slider.querySelectorAll(".pagination-btn")}return _createClass(Pagination,[{key:"changeBtnPagination",value:function changeBtnPagination(i){this.btnsPagination.forEach(function(i){i.classList.remove("pagination-btn-active")}),this.btnsPagination[i].classList.add("pagination-btn-active")}}]),Pagination}(),Slider=function(){function Slider(){_classCallCheck(this,Slider)}return _createClass(Slider,[{key:"getEvent",value:function getEvent(){return-1!=event.type.search("touch")?event.touches[0]:event}},{key:"measuresMaximumSwipeOfSlider",value:function measuresMaximumSwipeOfSlider(){var e=this;this.sliderTrack.querySelectorAll(".slide").forEach(function(i){e.maximumSwipingAtSlider+=i.offsetWidth}),this.maximumSwipingAtSlider-=this.sliderWidth}},{key:"getPaginationSlider",value:function getPaginationSlider(){return this.slider.querySelector(".slider-pagination")}},{key:"checkIsPaginationSlider",value:function checkIsPaginationSlider(){this.getPaginationSlider()&&this.addPagination()}},{key:"watchSwipeSliderTrack_Pagination",value:function watchSwipeSliderTrack_Pagination(){this.newPagination.changeBtnPagination(this.currentSlide)}},{key:"addPagination",value:function addPagination(){this.isPagination=!0,this.newPagination=new Pagination(this.slider)}},{key:"addNavigation",value:function addNavigation(){var i=this;this.isNavigation=!0,this.newNavigation=new Navigation(this.slider);var e=this.slider.querySelector(".btn-slider-push-last"),t=this.slider.querySelector(".btn-slider-push-next");e.addEventListener("click",function(){i.pressedBtnPushSlider()}),t.addEventListener("click",function(){i.pressedBtnPushSlider()})}},{key:"pressedBtnPushSlider",value:function pressedBtnPushSlider(){var i=this;if(this.allowSwipe){var e=event.currentTarget.dataset.direction,t=this.newNavigation.pushingSliderTrack(e,this.currentSlide);t&&(this.currentSlide=t.current_slide,this.positionFinal=t.position,this.positionSliderTrack=t.position,this.watchSwipeSliderTrack_Pagination()),this.allowSwipe=!1,setTimeout(function(){i.allowSwipe=!0},500)}}},{key:"checkSliderCanBeMoved",value:function checkSliderCanBeMoved(i){5<=Math.abs(i.clientY-this.positionPressedY)&&"touchmove"===event.type&&(this.isScrollingSlider?this.isScrollingSlider&&(this.allowSwipe=!0):(this.allowSwipe=!1,this.removeEventsSliderTrack()))}},{key:"checksOutOfBounds",value:function checksOutOfBounds(){(this.positionX_FingetCurrentMoment_OnSlider>=this.positionFingerPressSliderX&&0<this.positionSliderTrack-this.positionFinal||this.positionX_FingetCurrentMoment_OnSlider>=this.sliderWidth-this.positionFingerPressSliderX&&this.positionSliderTrack-this.positionFinal<0)&&this.swipeEnd()}},{key:"calculatesTouchCoordinates_SwipeStart",value:function calculatesTouchCoordinates_SwipeStart(i){this.positionPressedX=i.clientX,this.positionPressedY=i.clientY,this.positionFingerPressSliderX=this.positionPressedX-this.slider.getBoundingClientRect().x,this.positionFingerPressSliderY=this.positionPressedY-this.slider.getBoundingClientRect().y}}]),Slider}(),SliderWithSections=function(i){_inherits(SliderWithSections,Slider);var n=_createSuper(SliderWithSections);function SliderWithSections(i,e){var t;return _classCallCheck(this,SliderWithSections),(t=n.call(this)).slider=i,t.options=e,t.sliderTrack=t.slider.querySelector(".slider-track"),t.btnPrev=t.slider.querySelector(".btn-slider-push-last"),t.btnNext=t.slider.querySelector(".btn-slider-push-next"),t.allowSwipe=!0,t.positionSliderTrack=0,t.slides=t.slider.querySelectorAll(".slide"),t.addOptions(),t.lastVisibleSlide=t.visibleSlides,t}return _createClass(SliderWithSections,[{key:"addOptions",value:function addOptions(){if(this.scrollSlidesAtTime=this.options.scrollSlidesAtTime?this.options.scrollSlidesAtTime:1,this.visibleSlides=this.options.visibleSlides,this.speed=this.options.speed?this.options.speed:250,!this.visibleSlides)throw"You did not specify a parameter <visibleSlides>"}},{key:"getNewPositionSliderTrack",value:function getNewPositionSliderTrack(i){for(var e=0,t=0;t<i;t++)e+=this.slides[t].offsetWidth+parseFloat(getComputedStyle(this.slides[t]).marginRight);return e-(this.slider.offsetWidth+parseFloat(getComputedStyle(this.slides[0]).marginRight))}},{key:"addEventClickBtnPushSlider",value:function addEventClickBtnPushSlider(){var i=this;this.btnPrev.addEventListener("click",function(){i.pushSliderOnClickBtn()}),this.btnNext.addEventListener("click",function(){i.pushSliderOnClickBtn()})}},{key:"pushSliderOnClickBtn",value:function pushSliderOnClickBtn(){var i=event.currentTarget.dataset.direction;if((this.lastVisibleSlide!==this.visibleSlides||"last"!==i)&&this.allowSwipe){this.lastVisibleSlide+="next"===i?this.scrollSlidesAtTime:-this.scrollSlidesAtTime;var e=this.getNewPositionSliderTrack(this.lastVisibleSlide);this.addTransitionSliderTrack(e)}}},{key:"addTransitionSliderTrack",value:function addTransitionSliderTrack(i){var e=this;this.sliderTrack.style.transition="transform 0.".concat(this.speed,"s ease"),setTimeout(function(){e.positionSliderTrack=i,e.sliderTrack.style.transform="translate3d(".concat(-i,"px, 0px, 0px)")},0)}},{key:"run",value:function run(){this.addEventClickBtnPushSlider()}}]),SliderWithSections}();