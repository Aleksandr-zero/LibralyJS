function _classCallCheck(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,t){for(var e=0;e<t.length;e++){var s=t[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function _createClass(i,t,e){return t&&_defineProperties(i.prototype,t),e&&_defineProperties(i,e),i}function _inherits(i,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),t&&_setPrototypeOf(i,t)}function _getPrototypeOf(i){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(i){return i.__proto__||Object.getPrototypeOf(i)})(i)}function _setPrototypeOf(i,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(i,t){return i.__proto__=t,i})(i,t)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(i){return!1}}function _assertThisInitialized(i){if(void 0===i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _possibleConstructorReturn(i,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(i):t}function _createSuper(s){var n=_isNativeReflectConstruct();return function _createSuperInternal(){var i,t=_getPrototypeOf(s);if(n){var e=_getPrototypeOf(this).constructor;i=Reflect.construct(t,arguments,e)}else i=t.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _superPropBase(i,t){for(;!Object.prototype.hasOwnProperty.call(i,t)&&null!==(i=_getPrototypeOf(i)););return i}function _get(i,t,e){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(i,t,e){var s=_superPropBase(i,t);if(s){var n=Object.getOwnPropertyDescriptor(s,t);return n.get?n.get.call(e):n.value}})(i,t,e||i)}var Pagination=function(){function Pagination(i){_classCallCheck(this,Pagination),this.slider=i,this.btnsPagination=this.slider.querySelectorAll(".pagination-btn")}return _createClass(Pagination,[{key:"changeBtnPagination",value:function changeBtnPagination(i){this.btnsPagination.forEach(function(i){i.classList.remove("pagination-btn-active")}),this.btnsPagination[i].classList.add("pagination-btn-active")}}]),Pagination}(),Slider=function(){function Slider(){_classCallCheck(this,Slider)}return _createClass(Slider,[{key:"getEvent",value:function getEvent(){return-1!=event.type.search("touch")?event.touches[0]:event}},{key:"measuresMaximumSwipeOfSlider",value:function measuresMaximumSwipeOfSlider(){var t=this;this.sliderTrack.querySelectorAll(".slide").forEach(function(i){t.maximumSwipingAtSlider+=i.offsetWidth}),this.maximumSwipingAtSlider-=this.sliderWidth}},{key:"getPaginationSlider",value:function getPaginationSlider(){return this.slider.querySelector(".slider-pagination")}},{key:"checkIsPaginationSLider",value:function checkIsPaginationSLider(){this.getNavigationSlider()&&this.addPagination()}},{key:"watchSwipeSliderTrack",value:function watchSwipeSliderTrack(){this.newPagination.changeBtnPagination(this.currentSlide)}},{key:"addPagination",value:function addPagination(){this.isPagination=!0,this.newPagination=new Pagination(this.slider)}},{key:"getNavigationSlider",value:function getNavigationSlider(){return!!this.slider.querySelector(".slider-pagination")}},{key:"checkSliderCanBeMoved",value:function checkSliderCanBeMoved(i){5<=Math.abs(i.clientY-this.positionPressedY)&&"touchmove"===event.type&&(this.isScrollingSlider?this.isScrollingSlider&&(this.allowSwipe=!0):(this.allowSwipe=!1,this.removeEventsSliderTrack()))}},{key:"checksOutOfBounds",value:function checksOutOfBounds(){(this.positionX_FingetCurrentMoment_OnSlider>=this.positionFingerPressSliderX&&0<this.positionSliderTrack-this.positionFinal||this.positionX_FingetCurrentMoment_OnSlider>=this.sliderWidth-this.positionFingerPressSliderX&&this.positionSliderTrack-this.positionFinal<0)&&this.swipeEnd()}},{key:"calculatesTouchCoordinates_SwipeStart",value:function calculatesTouchCoordinates_SwipeStart(i){this.positionPressedX=i.clientX,this.positionPressedY=i.clientY,this.positionFingerPressSliderX=this.positionPressedX-this.slider.getBoundingClientRect().x,this.positionFingerPressSliderY=this.positionPressedY-this.slider.getBoundingClientRect().y}},{key:"addNavigation",value:function addNavigation(){}}]),Slider}(),SliderWithoutFight=function(i){_inherits(SliderWithoutFight,Slider);var n=_createSuper(SliderWithoutFight);function SliderWithoutFight(i,t){var e,s;return _classCallCheck(this,SliderWithoutFight),(s=n.call(this)).slider=i,s.options=t,s.sliderTrack=s.slider.querySelector(".slider-track"),s.sliderWidth=s.slider.offsetWidth,s.maximumSwipingAtSlider=0,s.positionSliderTrack=0,s.positionFinal=0,s.singleSwipe=0,s.positionPressedX,s.positionPressedY,s.positionFingerPressSliderX,s.positionFingerPressSliderY,s.positionX_FingetCurrentMoment_OnSlider,s.positionY_FingetCurrentMoment_OnSlider,s.allowSwipe=!0,s.isScrollingSlider=!1,_get((e=_assertThisInitialized(s),_getPrototypeOf(SliderWithoutFight.prototype)),"measuresMaximumSwipeOfSlider",e).call(e),s.addOptions(),s._swipeAction=function(){s.swipeAction()},s._swipeEnd=function(){s.swipeEnd()},s.goingOutBoundsSlider=function(){s.swipeEnd(),s.sliderTrack.removeEventListener("mouseout",s.goingOutBoundsSlider)},s}return _createClass(SliderWithoutFight,[{key:"addOptions",value:function addOptions(){this.scrollAfterAbruptStop=!this.options||this.options.scrollAfterAbruptStop}},{key:"removeEventsSliderTrack",value:function removeEventsSliderTrack(){this.sliderTrack.removeEventListener("mousemove",this._swipeAction),this.sliderTrack.removeEventListener("touchmove",this._swipeAction),this.sliderTrack.removeEventListener("mouseup",this._swipeEnd),this.sliderTrack.removeEventListener("touchend",this._swipeEnd),this.sliderTrack.removeEventListener("mouseout",this.goingOutBoundsSlider),this.slider.classList.remove("slider-active")}},{key:"addEventsSliderTrack",value:function addEventsSliderTrack(){this.sliderTrack.addEventListener("mousemove",this._swipeAction),this.sliderTrack.addEventListener("touchmove",this._swipeAction,{passive:!0}),this.sliderTrack.addEventListener("mouseup",this._swipeEnd),this.sliderTrack.addEventListener("touchend",this._swipeEnd,{passive:!0}),this.sliderTrack.addEventListener("mouseout",this.goingOutBoundsSlider),this.slider.classList.add("slider-active")}},{key:"checksOutOfBounds",value:function checksOutOfBounds(){(this.positionX_FingetCurrentMoment_OnSlider>=this.positionFingerPressSliderX&&0<this.positionSliderTrack-this.positionFinal||this.positionX_FingetCurrentMoment_OnSlider>=this.sliderWidth-this.positionFingerPressSliderX&&this.positionSliderTrack-this.positionFinal<0)&&(this.measuresSpeedTrafficSliderTrack(),this.removeEventsSliderTrack())}},{key:"measuresSpeedTrafficSliderTrack",value:function measuresSpeedTrafficSliderTrack(){var i=(this.singleSwipe/this.swipeSlider_Time).toFixed(2);this.autoPushingSlider(i)}},{key:"autoPushingSlider",value:function autoPushingSlider(i){if(!(i<=.6||this.positionSliderTrack>this.maximumSwipingAtSlider)){var t=i*this.positionSliderTrack;t<this.positionSliderTrack&&(t=this.positionSliderTrack),"right"===this.directionSliderTrack&&(t=Math.round(t-(t-this.positionSliderTrack/1.45))),t>this.maximumSwipingAtSlider?t=this.maximumSwipingAtSlider:t<0&&(t=0),this.setsStyle_For_autoPushingSlider(t)}}},{key:"setsStyle_For_autoPushingSlider",value:function setsStyle_For_autoPushingSlider(i){var t=this;this.sliderTrack.style.transform="translate3d(-".concat(i,"px, 0px, 0px)"),this.sliderTrack.style.transition="transform 1s ease-out",this.sliderTrack.addEventListener("transitionend",function(){t.sliderTrack.style.transition="none",t.positionFinal=t.positionSliderTrack=i})}},{key:"stopsAutoScrolling",value:function stopsAutoScrolling(){var i=Math.abs(Math.round(this.sliderTrack.getBoundingClientRect().x)-Math.round(this.slider.getBoundingClientRect().x));this.positionFinal=this.positionSliderTrack=i,this.sliderTrack.style.transform="translate3d(-".concat(this.positionFinal,"px, 0px, 0px)")}},{key:"pushingSlider",value:function pushingSlider(){this.singleSwipe=Math.abs(this.positionSliderTrack-this.positionFinal),5<=this.singleSwipe&&(this.isScrollingSlider=!0),this.positionSliderTrack<=this.maximumSwipingAtSlider&&0<this.positionSliderTrack&&(this.sliderTrack.style.transform="translate3d(-".concat(this.positionSliderTrack,"px, 0px, 0px)"))}},{key:"swipeStart",value:function swipeStart(){this.stopsAutoScrolling(),this.allowSwipe=!0,this.time_1=performance.now();var i=_get(_getPrototypeOf(SliderWithoutFight.prototype),"getEvent",this).call(this);_get(_getPrototypeOf(SliderWithoutFight.prototype),"calculatesTouchCoordinates_SwipeStart",this).call(this,this.evt=i),this.sliderTrack.style.transform="translate3d(".concat(-this.positionFinal,"px, 0px, 0px)"),this.sliderTrack.style.transition="none",this.addEventsSliderTrack()}},{key:"swipeAction",value:function swipeAction(){var i=_get(_getPrototypeOf(SliderWithoutFight.prototype),"getEvent",this).call(this);this.directionSliderTrack=this.positionPressedX<i.clientX?"right":"left",_get(_getPrototypeOf(SliderWithoutFight.prototype),"checkSliderCanBeMoved",this).call(this,this.evt=i),this.allowSwipe&&("touchmove"===event.type&&(this.positionX_FingetCurrentMoment_OnSlider=Math.abs(this.positionPressedX-i.clientX),this.positionY_FingetCurrentMoment_OnSlider=Math.abs(this.positionPressedY-i.clientY),this.checksOutOfBounds()),this.allowSwipe&&(this.positionSliderTrack=this.positionPressedX-i.clientX+this.positionFinal,this.pushingSlider()))}},{key:"swipeEnd",value:function swipeEnd(){this.allowSwipe?(this.singleSwipe=Math.abs(this.positionSliderTrack-this.positionFinal),this.positionFinal=this.positionSliderTrack,this.positionFinal>this.maximumSwipingAtSlider?this.positionFinal=this.maximumSwipingAtSlider:this.positionFinal<0&&(this.positionFinal=0),this.allowSwipe=!0,this.isScrollingSlider=!1,this.scrollAfterAbruptStop&&(this.swipeSlider_Time=performance.now()-this.time_1,this.measuresSpeedTrafficSliderTrack()),this.removeEventsSliderTrack()):this.allowSwipe=!0}},{key:"run",value:function run(){var i=this;this.sliderTrack.addEventListener("touchstart",function(){i.swipeStart()},{passive:!0}),this.sliderTrack.addEventListener("mousedown",function(){i.swipeStart()})}}]),SliderWithoutFight}();